(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{12:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3vpTh"}},13:function(e,t,a){e.exports={Button:"Button_Button__3t8LY"}},19:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"SearchBar_Searchbar__3RTQT",SearchForm:"SearchBar_SearchForm__1H3JO",SearchFormButton:"SearchBar_SearchFormButton__LkcS-",SearchFormButtonLabel:"SearchBar_SearchFormButtonLabel__Nc3E4",SearchFormInput:"SearchBar_SearchFormInput__1tmI9"}},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(11),o=a.n(r),i=(a(19),a(10)),s=a(3),l=a(4),u=a.n(l),m=a(0);function j(e){var t=e.submit,a=Object(n.useState)(""),c=Object(s.a)(a,2),r=c[0],o=c[1],i=function(){o("")};return Object(m.jsx)("header",{className:u.a.Searchbar,children:Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(r),i()},className:u.a.SearchForm,children:[Object(m.jsx)("button",{type:"submit",className:u.a.SearchFormButton,children:Object(m.jsx)("span",{className:u.a.SearchFormButtonLabel,children:"Search"})}),Object(m.jsx)("input",{className:u.a.SearchFormInput,type:"text",name:"searchbar",value:r,onChange:function(e){var t=e.currentTarget.value;o(t)},autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}var h=a(8),b=a.n(h);function d(e){var t=e.webformatURL,a=e.largeImageURL,n=e.tags,c=e.modalOpen;return Object(m.jsx)("li",{className:b.a.ImageGalleryItem,onClick:function(){c(a,n)},children:Object(m.jsx)("img",{src:t,alt:n,className:b.a.ImageGalleryItemImage})})}a(21);var g=a(12),O=a.n(g);function f(e){var t=e.modalOpen,a=e.data;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("ul",{className:O.a.ImageGallery,children:a.map((function(e){return Object(m.jsx)(d,{tags:e.tags,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,modalOpen:t},e.id)}))})})}var p=a(13),I=a.n(p);function _(e){var t=e.onClick;return Object(m.jsx)("button",{type:"button",className:I.a.Button,onClick:t,children:"Load more"})}var S=a(14),v=a.n(S),x=a(9),y=a.n(x);function w(e){var t=e.largeImageURL,a=e.alt,n=e.onClick;return Object(m.jsx)("div",{className:y.a.Overlay,onClick:n,children:Object(m.jsx)("div",{className:y.a.Modal,children:Object(m.jsx)("img",{src:t,alt:a})})})}var B={fatchImage:function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("22330478-3bd9f5a2d8db4972b1e40fa44","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject(new Error("no images on request"))}))}};a(42);function F(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)("idle"),o=Object(s.a)(r,2),l=o[0],u=o[1],h=Object(n.useState)(1),b=Object(s.a)(h,2),d=b[0],g=b[1],O=Object(n.useState)(""),p=Object(s.a)(O,2),I=p[0],S=p[1],x=Object(n.useState)([]),y=Object(s.a)(x,2),F=y[0],k=y[1],L=Object(n.useState)(""),N=Object(s.a)(L,2),G=N[0],C=N[1],E=Object(n.useState)(""),R=Object(s.a)(E,2),U=R[0],M=R[1];Object(n.useEffect)((function(){u("pending"),""!==a.trim()?B.fatchImage(a,d).then((function(e){if(0===e.hits.length)return S("No any picture"),void u("rejected");k((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.hits))})),u("resolved")})).then((function(){1!==d&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){return S(e)}),u("rejected")):u("idle")}),[d,a]);var T=function(){window.removeEventListener("keydown",H),C(""),M("")},H=function(e){"Escape"===e.code&&T()};return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(j,{submit:function(e){""!==e.trim&&(c(e),u("pending"))}}),"idle"===l&&Object(m.jsx)("p",{children:"Enter the name of the picture"}),Object(m.jsxs)("div",{children:[Object(m.jsx)(f,{modalOpen:function(e,t){window.addEventListener("keydown",H),C(e),M(t)},data:F}),"resolved"===l&&Object(m.jsx)(_,{onClick:function(){g((function(e){return e+1})),u("pending")}})]}),"pending"===l&&Object(m.jsx)(v.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3}),G&&Object(m.jsx)(w,{largeImageURL:G,alt:U,onClick:T}),"rejected"===l&&Object(m.jsx)("p",{children:I})]})}o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(F,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1itDY",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2g-W5"}},9:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3zHrX",Modal:"Modal_Modal__1hyg-"}}},[[43,1,2]]]);
//# sourceMappingURL=main.120e2e41.chunk.js.map